!function(e,a){"function"==typeof define&&define.amd?define(["cldr","../globalize","./number","cldr/event","cldr/supplemental"],a):"object"==typeof exports?module.exports=a(require("cldrjs"),require("../globalize")):a(e.Cldr,e.Globalize)}(this,function(u,e){function r(e,a){j(e,a,void 0===e||e instanceof Date,"Date")}function a(t,r){return r=r||function(e,a,t){return e[t]=a,e},Object.keys(t).reduce(function(e,a){return r(e,a,t[a])},{})}function f(e){return Q[e]||e}function l(e,a){for(var t="",r=0;r<a;r++)t+=e;return t}var d=e._createError,y=e._createErrorUnsupportedFeature,k=e._formatMessage,I=e._isPlainObject,D=e._looseMatching,R=e._numberNumberingSystemDigitsMap,w=e._numberSymbol,c=e._partsJoin,q=e._partsPush,H=e._regexpEscape,b=e._removeLiteralQuotes,Z=e._runtimeBind,p=e._stringPad,n=e._validate,Y=e._validateCldr,z=e._validateDefaultLocale,s=e._validateParameterPresence,j=e._validateParameterType,M=e._validateParameterTypePlainObject,N=e._validateParameterTypeString,V="GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx".split("").reduce(function(e,a,t){return e[a]=t,e},{}),Q=a({e:"eEc",L:"ML"},function(a,t,e){return e.split("").forEach(function(e){a[e]=t}),a}),F=/([a-z])\1*|'([^']|'')+'|''|./gi;function U(e,a){var t,r,n,s="dates/calendars/gregorian/dateTimeFormats/availableFormats",i=C,o=G,m=e.main([s,a]);if(a&&!m){for(n in r=[],t=e.main([s]))r.push({skeleton:n,pattern:t[n],rate:o(a,n)});(r=r.filter(function(e){return-1<e.rate}).sort(function(e,a){return e.rate-a.rate})).length&&(s=w("decimal",e),m=i(a,r[0].pattern,s))}return m}function T(e,r){var a,t,n,s,i,o,m,u,c=U;function l(e,a,t){return k(r.main(["dates/calendars/gregorian/dateTimeFormats",e]),[t,a])}switch(!0){case"skeleton"in e:if(t=(t=e.skeleton).replace(/j/g,function(){return r.supplemental.timeData.preferred()}),u=V,(o=t).replace(/[^GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx]/,function(e){throw d("E_INVALID_OPTIONS","Invalid field `{invalidField}` of skeleton `{value}`",{invalidField:e,type:"skeleton",value:o})}),o.split("").every(function(e){if(u[e]<m)throw d("E_INVALID_OPTIONS","Invalid order `{invalidField}` of skeleton `{value}`",{invalidField:e,type:"skeleton",value:o});return m=u[e],!0}),a=c(r,t))break;n=t.split(/[^hHKkmsSAzZOvVXx]/).slice(-1)[0],t=t.split(/[^GyYuUrQqMLlwWdDFgEec]/)[0],t=c(r,t),n=c(r,n),s=/(MMMM|LLLL).*[Ec]/.test(t)?"full":/MMMM|LLLL/.test(t)?"long":/MMM|LLL/.test(t)?"medium":"short",a=t&&n?l(s,t,n):t||n;break;case"date"in e:case"time"in e:a=r.main(["dates/calendars/gregorian","date"in e?"dateFormats":"timeFormats",e.date||e.time]);break;case"datetime"in e:a=l(e.datetime,r.main(["dates/calendars/gregorian/dateFormats",e.datetime]),r.main(["dates/calendars/gregorian/timeFormats",e.datetime]));break;case"raw"in e:a=e.raw;break;default:throw d("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:{name:"options",value:e},value:i})}return a}function h(e){return W.indexOf(e.supplemental.weekData.firstDay())}function O(e,a,t,r){var n;if(t)return(n=r.main(["dates/timeZoneNames/zone",t,e<4?"short":"long",a]))?n:(n=r.supplemental(["metaZones/metazoneInfo/timezone",t,0,"usesMetazone/_mzone"]),r.main(["dates/timeZoneNames/metazone",n,e<4?"short":"long",a]))}function E(e){return e.split(";").map(function(e){return e.slice(0,e.indexOf("H")+1)}).join(";")}function x(e,a){return e.split(";").map(function(e){e=e.split(/H+/);return e.splice(1,0,a),e.join("")}).join(";")}function X(e,a){function t(){return a}return t.dataCacheKey=e,t}var C=function(e,a,t){var r=e.match(/S/g),r=r?r.length:0;return a=-1!==(e=(a=function(e,a){for(var t,r,n,s,i,o=f,m=e.match(F),u=a.match(F),c=0;c<u.length;c++)for(r=u[c].charAt(0),n=u[c].length,t=0;t<m.length;t++)s=m[t].charAt(0),i=m[t].length,o(r)===o(s)&&n<i&&(u[c]=l(r,i));return u.join("")}(e.replace(/S/g,""),a)).lastIndexOf("s"))&&0!==r?a.slice(0,e+1)+t+l("S",r)+a.slice(e+1):a},G=function(e,a){var t,r,n,s,i,o,m,u,c,l=f;if(e===a)return 0;if(e=e.match(F),a=a.match(F),e.length!==a.length)return-1;for(n=1,u=0;u<e.length;u++){for(o=l(t=e[u].charAt(0)),m=null,c=0;c<a.length&&o!==(m=l(r=a[c].charAt(0)));c++)m=null;if(null===m)return-1;s=e[u].length,i=a[c].length,n+=Math.abs(s-i),t!==r&&(n+=1),(s<3&&3<=i||3<=s&&i<3)&&(n+=20)}return n},W=["sun","mon","tue","wed","thu","fri","sat"],v=(o.prototype.clone=function(){return new o(this.original,this.timeZoneData)},["getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getSeconds","getMilliseconds"].forEach(function(e){var a="getUTC"+e.substr(3);o.prototype[e]=function(){return this.local[a]()}}),o.prototype.valueOf=o.prototype.getTime=function(){return this.local.getTime()+60*this.getTimezoneOffset()*1e3},o.prototype.getTimezoneOffset=function(){var e=i(this.original,this.timeZoneData.untils);return this.timeZoneData.offsets[e]},["setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds"].forEach(function(e){var t="setUTC"+e.substr(3);o.prototype[e]=function(e){var a=this.local;return this.setWrap(function(){return a[t](e)})}}),o.prototype.setTime=function(e){return this.local.setTime(e)},o.prototype.isDST=function(){var e=i(this.original,this.timeZoneData.untils);return Boolean(this.timeZoneData.isdsts[e])},o.prototype.inspect=function(){var e=i(this.original,this.timeZoneData.untils),a=this.timeZoneData.abbrs;return this.local.toISOString().replace(/Z$/,"")+" "+(a&&a[e]+" "||-1*this.getTimezoneOffset()+" ")+(this.isDST()?"(daylight savings)":"")},o.prototype.toDate=function(){return new Date(this.getTime())},["toISOString","toJSON","toUTCString"].forEach(function(e){o.prototype[e]=function(){return this.toDate()[e]()}}),o);function t(e,a,t){Object.defineProperty(e,a,{value:t})}function i(e,a){for(var t=0,r=e.getTime();t<a.length-1&&r>=a[t];)t++;return t}function K(e){var a=this.getTimezoneOffset(),e=e(),t=(this.original.setTime(new Date(this.getTime())),this.getTimezoneOffset());return t-a&&this.original.setMinutes(this.original.getMinutes()+t-a),e}function o(e,a){if(t(this,"original",new Date(e.getTime())),t(this,"local",new Date(e.getTime())),t(this,"timeZoneData",a),t(this,"setWrap",K),!(a.untils&&a.offsets&&a.isdsts))throw new Error("Invalid IANA data");this.setTime(this.local.getTime()-60*this.getTimezoneOffset()*1e3)}function J(l,f,d){var e,g=[],p=["abbreviated","wide","narrow"],h=d.digitsRe;return l=D(l),e=d.pattern.match(F).every(function(e){var a,t,r,n,s={};function i(e,a){var t,r,e=l.match(e);return a=a||function(e){return+e},e&&(r=e[1],e.length<6?s.value=60*a(e[t=r?1:3]):e.length<10?s.value=60*a(e[(t=r?[1,3]:[5,7])[0]])+a(e[t[1]]):s.value=60*a(e[(t=r?[1,3,5]:[7,9,11])[0]])+a(e[t[1]])+a(e[t[2]])/60,r&&(s.value*=-1),1)}function o(){return 1===t&&(r=!0,n=h)}function m(){return(1===t||2===t)&&(r=!0,n=new RegExp("^("+h.source+"){1,2}"))}function u(){return 2===t&&(r=!0,n=new RegExp("^("+h.source+"){2}"))}function c(e){e=d[e.join("/")];e&&e.some(function(e){if(e[1].test(l))return s.value=e[0],n=e[1],!0})}switch(a=(s.type=e).charAt(0),t=e.length,"Z"===a&&(t=t<4?(a="x",4):t<5?(a="O",4):(a="X",5)),"z"===a&&d.standardOrDaylightTzName&&(s.value=null,n=d.standardOrDaylightTzName),"v"===a&&(d.genericTzName?(s.value=null,n=d.genericTzName):(a="V",t=4)),"V"===a&&d.timeZoneName&&(s.value=2===t?d.timeZoneName:null,n=d.timeZoneNameRe),a){case"G":c(["gregorian/eras",t<=3?"eraAbbr":4===t?"eraNames":"eraNarrow"]);break;case"y":case"Y":r=!0,n=1===t?new RegExp("^("+h.source+")+"):2===t?new RegExp("^("+h.source+"){1,2}"):new RegExp("^("+h.source+"){"+t+",}");break;case"Q":case"q":o()||u()||c(["gregorian/quarters","Q"===a?"format":"stand-alone",p[t-3]]);break;case"M":case"L":m()||c(["gregorian/months","M"===a?"format":"stand-alone",p[t-3]]);break;case"D":t<=3&&(r=!0,n=new RegExp("^("+h.source+"){"+t+",3}"));break;case"W":case"F":o();break;case"e":case"c":if(t<=2){o()||u();break}case"E":6===t?(c(["gregorian/days",["c"===a?"stand-alone":"format"],"short"]),c(["gregorian/days",["c"===a?"stand-alone":"format"],"abbreviated"])):c(["gregorian/days",["c"===a?"stand-alone":"format"],p[t<3?0:t-3]]);break;case"a":c(["gregorian/dayPeriods/format/wide"]);break;case"w":1===t&&(r=!0,n=new RegExp("^("+h.source+"){1,2}"))||u();break;case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":m();break;case"S":r=!0,n=new RegExp("^("+h.source+"){"+t+"}");break;case"A":r=!0,n=new RegExp("^("+h.source+"){"+(t+5)+"}");break;case"v":case"V":case"z":if(n&&n.test(l))break;if("V"===a&&2===t)break;case"O":if(l===d["timeZoneNames/gmtZeroFormat"])s.value=0,n=d["timeZoneNames/gmtZeroFormatRe"];else if(!d["timeZoneNames/hourFormat"].some(function(e){if(i(e,f))return n=e,!0}))return null;break;case"X":if("Z"===l){s.value=0,n=/^Z/;break}case"x":if(d.x.some(function(e){if(i(e))return n=e,!0}))break;return null;case"'":s.type="literal",n=new RegExp("^"+H(b(e)));break;default:s.type="literal",n=new RegExp("^"+H(e))}return!!n&&(l=l.replace(n,function(e){return s.lexeme=e,r&&(s.value=f(e)),""}),!!s.lexeme&&((!r||!isNaN(s.value))&&(g.push(s),!0)))}),(e=""!==l?!1:e)?g:[]}function B(a,t,r){return function(e){return s(e,"value"),N(e,"value"),function(e,n){var s,i,o,m,u,c,l,f,d=new Date,g=[];if(n.timeZoneData&&(d=new v(d,n.timeZoneData())),!e.length)return null;if(!e.every(function(e){var a,t,r;if("literal"===e.type)return!0;switch(a=e.type.charAt(0),r=e.type.length,a="j"===a?n.preferredTimeData:a){case"G":g.push(0),u=+e.value;break;case"y":if(t=e.value,2===r){if(_(t,0,99))return!1;(t+=100*Math.floor(d.getFullYear()/100))>d.getFullYear()+20&&(t-=100)}d.setFullYear(t),g.push(0);break;case"Y":throw y({feature:"year pattern `"+a+"`"});case"Q":case"q":break;case"M":case"L":if(t=r<=2?e.value:+e.value,_(t,1,12))return!1;m=t,g.push(1);break;case"w":case"W":break;case"d":i=e.value,g.push(2);break;case"D":o=e.value,g.push(2);break;case"F":break;case"e":case"c":case"E":break;case"a":s=e.value;break;case"h":if(t=e.value,_(t,1,12))return!1;c=l=!0,d.setHours(12===t?0:t),g.push(3);break;case"K":if(t=e.value,_(t,0,11))return!1;c=l=!0,d.setHours(t),g.push(3);break;case"k":if(t=e.value,_(t,1,24))return!1;c=!0,d.setHours(24===t?0:t),g.push(3);break;case"H":if(t=e.value,_(t,0,23))return!1;c=!0,d.setHours(t),g.push(3);break;case"m":if(t=e.value,_(t,0,59))return!1;d.setMinutes(t),g.push(4);break;case"s":if(t=e.value,_(t,0,59))return!1;d.setSeconds(t),g.push(5);break;case"A":d.setHours(0),d.setMinutes(0),d.setSeconds(0);case"S":t=Math.round(e.value*Math.pow(10,3-r)),d.setMilliseconds(t),g.push(6);break;case"z":case"Z":case"O":case"v":case"V":case"X":case"x":"number"==typeof e.value&&(f=e.value)}return!0}))return null;if(c&&!(!s^l))return null;if(0===u&&d.setFullYear(-1*d.getFullYear()+1),void 0!==m&&te(d,m-1),void 0!==i){if(_(i,1,ae(d)))return null;d.setDate(i)}else if(void 0!==o){if(_(o,1,ee(d.getFullYear())?366:365))return null;d.setMonth(0),d.setDate(o)}return l&&"pm"===s&&d.setHours(d.getHours()+12),void 0!==f&&d.setMinutes(d.getMinutes()+f-d.getTimezoneOffset()),g=Math.max.apply(null,g),d=(d=S(d,["year","month","day","hour","minute","second","milliseconds"][g]))instanceof v?d.toDate():d}(J(e,a,r),t)||null}}function $(a,t){return function(e){return s(e,"value"),r(e,"value"),i=e,o=a,u=[],c=(m=t).timeSeparator,m.timeZoneData&&(i=new v(i,m.timeZoneData())),m.pattern.replace(F,function(e){var a,t,r,n=e.charAt(0),s=e.length;switch("Z"===(n="j"===n?m.preferredTime:n)&&(s=s<4?(n="x",4):s<5?(n="O",4):(n="X",5)),"z"!==n||(r=i.isDST?i.isDST()?m.daylightTzName:m.standardTzName:r)||(n="O",s<4&&(s=1)),n){case"G":r=m.eras[i.getFullYear()<0?0:1];break;case"y":r=i.getFullYear(),2===s&&(r=+(r=String(r)).substr(r.length-2));break;case"Y":(r=new Date(i.getTime())).setDate(r.getDate()+7-g(i,m.firstDay)-m.firstDay-m.minDays),r=r.getFullYear(),2===s&&(r=+(r=String(r)).substr(r.length-2));break;case"Q":case"q":r=Math.ceil((i.getMonth()+1)/3),2<s&&(r=m.quarters[n][s][r]);break;case"M":case"L":r=i.getMonth()+1,2<s&&(r=m.months[n][s][r]);break;case"w":r=g(S(i,"year"),m.firstDay),r=Math.ceil((re(i)+1+r)/7)-(7-r>=m.minDays?0:1);break;case"W":r=g(S(i,"month"),m.firstDay),r=Math.ceil((i.getDate()+r)/7)-(7-r>=m.minDays?0:1);break;case"d":r=i.getDate();break;case"D":r=re(i)+1;break;case"F":r=Math.floor(i.getDate()/7)+1;break;case"e":case"c":if(s<=2){r=g(i,m.firstDay)+1;break}case"E":r=W[i.getDay()],r=m.days[n][s][r];break;case"a":r=m.dayPeriods[i.getHours()<12?"am":"pm"];break;case"h":r=i.getHours()%12||12;break;case"H":r=i.getHours();break;case"K":r=i.getHours()%12;break;case"k":r=i.getHours()||24;break;case"m":r=i.getMinutes();break;case"s":r=i.getSeconds();break;case"S":r=Math.round(i.getMilliseconds()*Math.pow(10,s-3));break;case"A":r=Math.round(se(i)*Math.pow(10,s-3));break;case"z":break;case"v":if(m.genericTzName){r=m.genericTzName;break}case"V":if(m.timeZoneName){r=m.timeZoneName;break}"v"===e&&(s=1);case"O":r=0===i.getTimezoneOffset()?m.gmtZeroFormat:(a=s<4?(a=i.getTimezoneOffset(),m.hourFormat[a%60-a%1==0?0:1]):m.hourFormat,r=ie(i,a,c,o),m.gmtFormat.replace(/\{0\}/,r));break;case"X":if(0===i.getTimezoneOffset()){r="Z";break}case"x":a=i.getTimezoneOffset(),1===s&&a%60-a%1!=0&&(s+=1),4!==s&&5!==s||a%1!=0||(s-=2),r=ie(i,r=["+HH;-HH","+HHmm;-HHmm","+HH:mm;-HH:mm","+HHmmss;-HHmmss","+HH:mm:ss;-HH:mm:ss"][s-1],":");break;case":":r=c;break;case"'":r=b(e);break;default:r=e}"number"==typeof r&&(r=o[s](r)),t=ne[n],q(u,t||"literal",r)}),u;var i,o,m,u,c}}var ee=function(e){return 1===new Date(e,1,29).getMonth()},ae=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},S=function(e,a){switch(e=e instanceof v?e.clone():new Date(e.getTime()),a){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},te=function(e,a){var t=e.getDate();e.setDate(1),e.setMonth(a),a=e,e=t,t=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),a.setDate(e<1?1:e<t?e:t)},_=function(e,a,t){return e<a||t<e},g=function(e,a){return(e.getDay()-a+7)%7},re=function(e){return Math.floor((a=S(e,"year"),(e.getTime()-a.getTime())/864e5));var a},ne=a({era:"G",year:"yY",quarter:"qQ",month:"ML",week:"wW",day:"dDF",weekday:"ecE",dayperiod:"a",hour:"hHkK",minute:"m",second:"sSA",zone:"zvVOxX"},function(a,t,e){return e.split("").forEach(function(e){a[e]=t}),a}),se=function(e){return e-S(e,"day")},ie=function(e,a,t,r){var e=e.getTimezoneOffset(),n=Math.abs(e);return r=r||{1:function(e){return p(e,1)},2:function(e){return p(e,2)}},a.split(";")[0<e?1:0].replace(":",t).replace(/HH?/,function(e){return r[e.length](Math.floor(n/60))}).replace(/mm/,function(){return r[2](Math.floor(n%60))}).replace(/ss/,function(){return r[2](Math.floor(n%1*60))})};function A(e){return void 0!==e.skeleton||void 0!==e.date||void 0!==e.time||void 0!==e.datetime||void 0!==e.raw}function P(e,a){Y(e,a,{skip:[/dates\/calendars\/gregorian\/dateTimeFormats\/availableFormats/,/dates\/calendars\/gregorian\/days\/.*\/short/,/dates\/timeZoneNames\/zone/,/dates\/timeZoneNames\/metazone/,/globalize-iana/,/supplemental\/metaZones/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}function oe(e){m("date",e),m("time",e),m("datetime",e)}function m(e,a){a=a[e];n("E_INVALID_OPTIONS",'Invalid `{{type}: "{value}"}`.',void 0===a||-1!==["short","medium","long","full"].indexOf(a),{type:e,value:a})}function me(e,a){n("E_INVALID_OPTIONS",'Invalid `{skeleton: "{value}"}` based on provided CLDR.',void 0===a||"string"==typeof e&&e,{type:"skeleton",value:a})}function L(t){return function(e,a){/globalize-iana/.test(e)&&n("E_MISSING_IANA_TZ","Missing required IANA timezone content for `{timeZone}`: `{path}`.",a,{path:e.replace(/globalize-iana\//,""),timeZone:t})}}return e.loadTimeZone=function(e){var a={"globalize-iana":e};s(e,"json"),M(e,"json"),u.load(a)},e.dateFormatter=e.prototype.dateFormatter=function(e){var a,t;return M(e,"options"),A(e=e||{})||(e.skeleton="yMd"),a=[e],e=this.dateToPartsFormatter(e),t=e,Z(a,this.cldr,a=function(e){return c(t(e))},[e]),a},e.dateToPartsFormatter=e.prototype.dateToPartsFormatter=function(e){var a,t,r,n,s,i,o,m,u,c,l,f,d;M(e,"options"),t=this.cldr,A(e=e||{})||(e.skeleton="yMd"),oe(e),z(t),o=e.timeZone,N(o,"options.timeZone"),a=[e],t.on("get",P),o&&(m=L(o),t.on("get",m));try{me(s=T(e,t),e.skeleton),l=o,f={numberFormatters:{},pattern:u=s,timeSeparator:w("timeSeparator",c=t)},d=["abbreviated","wide","narrow"],l&&(f.timeZoneData=X("iana/"+l,{offsets:c.get(["globalize-iana/zoneData",l,"offsets"]),untils:c.get(["globalize-iana/zoneData",l,"untils"]),isdsts:c.get(["globalize-iana/zoneData",l,"isdsts"])})),u.replace(F,function(e){var a,t,r,n,s=e.charAt(0),i=e.length;switch("j"===s&&(f.preferredTime=s=c.supplemental.timeData.preferred()),"Z"===s&&4===i&&(s="O",i=4),"z"===s&&(n=O(i,"standard",l,c),a=O(i,"daylight",l,c),n&&(f.standardTzName=n),a&&(f.daylightTzName=a),n&&a||(s="O",i<4&&(i=1))),"v"!==s||(r=O(i,"generic",l,c))||(s="V",i=4),s){case"G":f.eras=c.main(["dates/calendars/gregorian/eras",i<=3?"eraAbbr":4===i?"eraNames":"eraNarrow"]);break;case"y":t=!0;break;case"Y":f.firstDay=h(c),f.minDays=c.supplemental.weekData.minDays(),t=!0;break;case"u":case"U":throw y({feature:"year pattern `"+s+"`"});case"Q":case"q":2<i?(f.quarters||(f.quarters={}),f.quarters[s]||(f.quarters[s]={}),f.quarters[s][i]=c.main(["dates/calendars/gregorian/quarters","Q"===s?"format":"stand-alone",d[i-3]])):t=!0;break;case"M":case"L":2<i?(f.months||(f.months={}),f.months[s]||(f.months[s]={}),f.months[s][i]=c.main(["dates/calendars/gregorian/months","M"===s?"format":"stand-alone",d[i-3]])):t=!0;break;case"w":case"W":f.firstDay=h(c),f.minDays=c.supplemental.weekData.minDays(),t=!0;break;case"d":case"D":case"F":t=!0;break;case"g":throw y({feature:"Julian day pattern `g`"});case"e":case"c":if(i<=2){f.firstDay=h(c),t=!0;break}case"E":f.days||(f.days={}),f.days[s]||(f.days[s]={}),f.days[s][i]=6===i?c.main(["dates/calendars/gregorian/days","c"===s?"stand-alone":"format","short"])||c.main(["dates/calendars/gregorian/days","c"===s?"stand-alone":"format","abbreviated"]):c.main(["dates/calendars/gregorian/days","c"===s?"stand-alone":"format",d[i<3?0:i-3]]);break;case"a":f.dayPeriods={am:c.main("dates/calendars/gregorian/dayPeriods/format/wide/am"),pm:c.main("dates/calendars/gregorian/dayPeriods/format/wide/pm")};break;case"h":case"H":case"K":case"k":case"m":case"s":case"S":case"A":t=!0;break;case"v":if(1!==i&&4!==i)throw y({feature:"timezone pattern `"+u+"`"});f.genericTzName=r;break;case"V":if(1===i)throw y({feature:"timezone pattern `"+u+"`"});if(l){if(2===i){f.timeZoneName=l;break}var o,m=c.main(["dates/timeZoneNames/zone",l,"exemplarCity"]);if(3===i&&(o=m=m||c.main(["dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"])),o=m&&4===i?k(c.main("dates/timeZoneNames/regionFormat"),[m]):o){f.timeZoneName=o;break}}"v"===e&&(i=1);case"O":f.gmtFormat=c.main("dates/timeZoneNames/gmtFormat"),f.gmtZeroFormat=c.main("dates/timeZoneNames/gmtZeroFormat"),m=c.main("dates/timeZoneNames/hourFormat"),f.hourFormat=i<4?[E(m),x(m,"H")]:x(m,"HH");case"Z":case"X":case"x":g(1),g(2)}t&&g(i)}),i=f}finally{t.off("get",P),m&&t.off("get",m)}function g(e){f.numberFormatters[e]=p("",e)}for(n in r=i.numberFormatters,delete i.numberFormatters,r)r[n]=this.numberFormatter({raw:r[n]});return e=$(r,i),Z(a,t,e,[r,i]),e},e.dateParser=e.prototype.dateParser=function(e){var a,t,r,n,s,i,o,m,u,c,l,f,d,g,p,h;M(e,"options"),t=this.cldr,A(e=e||{})||(e.skeleton="yMd"),oe(e),z(t),s=e.timeZone,N(s,"options.timeZone"),a=[e];try{t.on("get",P),s&&t.on("get",L(s)),me(n=T(e,t),e.skeleton),l=t,f=s,g={pattern:D(c=n)},p=w("timeSeparator",l),h=["abbreviated","wide","narrow"],d=(d=R(l))?"["+d+"]":"\\d",g.digitsRe=new RegExp(d),l.on("get",v),c.match(F).forEach(function(e){var a,t,r=e.charAt(0),n=e.length;if("Z"===r&&(n=n<5?(r="O",4):(r="X",5)),"z"===r&&(s=O(n,"standard",f,l),a=O(n,"daylight",f,l),s=s&&H(D(s)),a=a&&H(D(a)),(s||a)&&(g.standardOrDaylightTzName=new RegExp("^"+("("+[s,a].filter(function(e){return e}).reduce(function(e,a){return e+"|"+a})+")"))),s&&a||(r="O",n<4&&(n=1))),"v"===r){if(1!==n&&4!==n)throw y({feature:"timezone pattern `"+c+"`"});var s=O(n,"generic",f,l);s?(g.genericTzName=new RegExp("^"+H(D(s))),r="O"):(r="V",n=4)}switch(r){case"G":l.main(["dates/calendars/gregorian/eras",n<=3?"eraAbbr":4===n?"eraNames":"eraNarrow"]);break;case"u":case"U":throw y({feature:"year pattern `"+r+"`"});case"Q":case"q":2<n&&l.main(["dates/calendars/gregorian/quarters","Q"===r?"format":"stand-alone",h[n-3]]);break;case"M":case"L":2<n&&l.main(["dates/calendars/gregorian/months","M"===r?"format":"stand-alone",h[n-3]]);break;case"g":throw y({feature:"Julian day pattern `g`"});case"e":case"c":if(n<=2)break;case"E":6===n?l.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],"short"])||l.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],"abbreviated"]):l.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],h[n<3?0:n-3]]);break;case"a":l.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"V":if(1===n)throw y({feature:"timezone pattern `"+c+"`"});if(f){if(2===n){g.timeZoneName=f,g.timeZoneNameRe=new RegExp("^"+H(f));break}var i,o=l.main(["dates/timeZoneNames/zone",f,"exemplarCity"]);3===n&&(i=o=o||l.main(["dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"])),(i=o&&4===n?k(l.main("dates/timeZoneNames/regionFormat"),[o]):i)&&(i=D(i),g.timeZoneName=i,g.timeZoneNameRe=new RegExp("^"+H(i)))}"v"===e&&(n=1);case"z":case"O":t=l.main("dates/timeZoneNames/gmtFormat"),l.main("dates/timeZoneNames/gmtZeroFormat"),l.main("dates/timeZoneNames/hourFormat"),g["timeZoneNames/gmtZeroFormatRe"]=new RegExp("^"+H(g["timeZoneNames/gmtZeroFormat"])),o=g["timeZoneNames/hourFormat"],g["timeZoneNames/hourFormat"]=(n<4?[x(o,"H"),E(o)]:[x(o,"HH")]).map(function(e){return b(e,t,d,p)});case"X":case"x":g.x=[["+HHmm;-HHmm","+HH;-HH"],["+HHmm;-HHmm"],["+HH:mm;-HH:mm"],["+HHmmss;-HHmmss","+HHmm;-HHmm"],["+HH:mm:ss;-HH:mm:ss","+HH:mm;-HH:mm"]][n-1].map(function(e){return b(e)})}}),l.off("get",v),i=g,m=s,u={preferredTimeData:(o=t).supplemental.timeData.preferred()},m&&(u.timeZoneData=X("iana/"+m,{offsets:o.get(["globalize-iana/zoneData",m,"offsets"]),untils:o.get(["globalize-iana/zoneData",m,"untils"]),isdsts:o.get(["globalize-iana/zoneData",m,"isdsts"])})),r=u}finally{t.off("get",P),s&&t.off("get",L(s))}function b(e,a,t,r){return t=t||"\\d",a=a||"{0}",e=e.replace("+","\\+").replace(/HH|mm|ss/g,"(("+t+"){2})").replace(/H|m/g,"(("+t+"){1,2})"),e=(e=r?e.replace(/:/g,r):e).split(";").map(function(e){return a.replace("{0}",e)}).join("|"),new RegExp("^"+e)}function v(e,a){/(timeZoneNames\/zone|supplemental\/metaZones|timeZoneNames\/metazone|timeZoneNames\/regionFormat|timeZoneNames\/gmtFormat)/.test(e)||a&&("gregorian/dayPeriods/format/wide"===(e=e.replace(/^.*\/dates\//,"").replace(/calendars\//,""))&&(a=function(e,a){var t,r={};for(t in e)a.test(t)&&(r[t]=e[t]);return r}(a,/^am|^pm/)),a=I(a)?Object.keys(a).map(function(e){return[e,new RegExp("^"+H(D(a[e])))]}).sort(function(e,a){return a[1].source.length-e[1].source.length}):D(a),g[e]=a)}return e=this.numberParser({raw:"0"}),o=B(e,r,i),Z(a,t,o,[e,r,i]),o},e.formatDate=e.prototype.formatDate=function(e,a){return s(e,"value"),r(e,"value"),this.dateFormatter(a)(e)},e.formatDateToParts=e.prototype.formatDateToParts=function(e,a){return s(e,"value"),r(e,"value"),this.dateToPartsFormatter(a)(e)},e.parseDate=e.prototype.parseDate=function(e,a){return s(e,"value"),N(e,"value"),this.dateParser(a)(e)},e});