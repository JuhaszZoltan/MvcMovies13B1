!function(e,n){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event","cldr/supplemental"],n):"object"==typeof exports?module.exports=n(require("cldrjs"),require("../globalize")):n(e.Cldr,e.Globalize)}(this,function(k,e){function F(e,n){t(e,n,void 0===e||"number"==typeof e,"Number")}function u(e,n){t(e,n,void 0===e||"string"==typeof e,"a string")}function f(e){var n=P(e);if("latn"!==n){if("numeric"!==(e=e.supplemental(["numberingSystems",n]))._type)throw N("`"+e._type+"` numbering system");return e._digits}}function s(e){var n,t,r,i,u,a,o,c,m,l,f,s,p,g;if(!(e=e.match(_)))throw new Error("Invalid pattern: "+e);if(c=e[1],o=e[4],n=e[5],p=e[9],f=e[10],g=e[11],p?p.replace(/(@+)(#*)/,function(e,n,t){a=n.length,r=a+t.length}):(p=e[8],e=e[7],t=p?(p.replace(/[0-9]+/,function(e){i=e}),i=i?(l=+("0."+i),i.length):0,p.length-1):i=0,e.replace(/0+$/,function(e){u=e.length})),f)throw N({feature:"scientific notation (not implemented)"});if(o)throw N({feature:"padding (not implemented)"});return-1!==(p=n.lastIndexOf(","))&&(m=n.split(".")[0].length-p-1,-1!==(e=n.lastIndexOf(",",p-1))&&(s=p-1-e)),[c,o,u,i,t,a,r,l,m,s,g]}function x(e,n,t){var r,i,u,a,o,c,m;function l(e,n){e in t&&(u[n]=t[e])}return t=t||{},o=(e=e.split(";"))[0],e=e[1]||"-"+o,r=(e=s(e))[0],e=e[10],a="truncate"===(a=(a=t.round)||"round")?C:Math[a],(i=function(e,n){var t,r;if(e=+e,isNaN(e))return NaN;if("object"==typeof n&&n.exponent){if(r=1,0===(t=+n.exponent))return a(e);if("number"!=typeof t||t%1!=0)return NaN}else{if(1===(r=+n||1))return a(e);if(isNaN(r))return NaN;t=+(r=r.toExponential().split("e"))[1],r=+r[0]}return(e=e.toString().split("e"))[0]=+e[0]/r,e[1]=e[1]?+e[1]-t:-t,(e=(e=a(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=+e[0]*r,e[1]=e[1]?+e[1]+t:t,+(e[0]+"e"+e[1])}).generatorString=function(){return"numberRound("+(t.round?'"'+t.round+'"':"")+")"},u=s(o).concat([o,r+o+e,r,e,i,w("infinity",n),w("nan",n),function(e){var n,t={};for(n in M)t[n]=w(M[n],e);return t}(n),f(n)]),t.compact&&(u[2]=1,u[3]=0,u[4]=0,u[5]=u[6]=void 0,u[20]=(o=t.compact,c=0,m=n.main(["numbers/decimalFormats-numberSystem-"+P(n),o,"decimalFormat"]),(m=Object.keys(m).reduce(function(e,n){var t=n.split("0").length-1,r=n.split("-")[2];return e[t]=e[t]||{},e[t][r]=m[n],c=Math.max(t,c),e},{})).maxExponent=c,m)),l("minimumIntegerDigits",2),l("minimumFractionDigits",3),l("maximumFractionDigits",4),l("minimumSignificantDigits",5),l("maximumSignificantDigits",6),!1===t.useGrouping&&(u[8]=null),"minimumFractionDigits"in t&&!("maximumFractionDigits"in t)?u[4]=Math.max(u[3],u[4]):!("minimumFractionDigits"in t)&&"maximumFractionDigits"in t&&(u[3]=Math.min(u[3],u[4])),u}function a(e,n){var t,r,i,u,a,o,c,m,l;return t=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],i=n[0],r=n[1]||{},m=n[2],e=O(e),l=e,!t.some(function(e){var t=l;return e.every(function(e){return null!==t.match(m[e])&&(t=t.replace(m[e],(n=e,function(e){switch(e=e.split("").map(function(e){return i[e]||r[e]||e}).join(""),n){case"infinity":a=1/0;break;case"nan":a=NaN;break;case"number":e=e.replace(/,/g,""),a=+e;break;case"prefix":case"negativePrefix":o=e;break;case"suffix":c=e;break;case"negativeSuffix":c=e,u=!0;break;default:throw new Error("Internal error")}return""})),!0);var n})&&!t.length})||isNaN(a)?NaN:(-1!==(n=""+o+c).indexOf("%")?a/=100:-1!==n.indexOf("‰")&&(a/=1e3),u&&(a*=-1),a)}function y(n,t){return Object.keys(n).map(function(e){return t([e,n[e]])}).reduce(function(e,n){return e[n[0]]=n[1],e},{})}function o(e,n,t){var r,i,e=x(e,n,t),t=O(e[0]),u=e[4],a=e[5],o=e[6],c=e[8],m=e[9],l=O(e[10]),f=O(e[13]),s=O(e[14]),p=O(e[16]),g=O(e[17]),d=y(e[18],function(e){return[e[0],O(e[1])]}),e=e[19],n=y(function(e){var n,t={};for(n in M)t[w(M[n],e)]=n;return t}(n),function(e){return[O(e[0]),e[1]]}),b=e?"["+e+"]":"\\d",h=D(d[","]),v=D(d["."]);return e&&(r=e.split("").reduce(function(e,n,t){return e[n]=String(t),e},{})),t=(e=[t,l,f,s].map(function(e){return e.replace(/('([^']|'')+'|'')|./g,function(e,n){return n?T(n):e.replace(/[\-+E%\u2030]/,function(e){return d[e]})})}))[0],l=e[1],f=e[2],s=e[3],i=b+"+",c&&(i="("+(e=m?b+"{1,"+m+"}(("+h+b+"{"+m+"})*("+h+b+"{"+c+"}))":b+"{1,"+c+"}("+h+b+"{"+c+"})+")+"|"+i+")"),isNaN(a*o)&&!u||(i="("+(i=i+"("+(e=v+b+"+")+"|"+v+")?|("+i+")?"+e)+")"),[n,r,{infinity:new RegExp("^"+D(p)),nan:new RegExp("^"+D(g)),negativePrefix:new RegExp("^"+D(f)),negativeSuffix:new RegExp("^"+D(s)),number:new RegExp("^"+i),prefix:new RegExp("^"+D(t)),suffix:new RegExp("^"+D(l))}]}function l(e,n){if("decimal"!==e&&"percent"!==e)throw new Error("Invalid style");return n.main(["numbers",e+"Formats-numberSystem-"+P(n),"standard"])}function c(e,n,t){var r;return 0===e?e:(r=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:r-=n}))}function p(D,N){return function(e){return S(e,"value"),F(e,"value"),e=e,t=N,o=(n=D)[2],c=n[3],m=n[4],l=n[5],f=n[6],s=n[7],p=n[8],g=n[9],d=n[15],b=n[16],h=n[17],v=n[18],x=n[19],y=n[20],isNaN(e)?[{type:"nan",value:h}]:(h=e<0?(a=n[12],r=n[13],n[14]):(a=n[11],r=n[0],n[10]),r=(n=function(e){var t="integer",r=[];return e.replace(/('([^']|'')+'|'')|./g,function(e,n){n?E(r,"literal",T(n)):"¤"===e?E(r,"currency",e):(e=(e=e.replace(/[.,\-+E%\u2030]/,function(e){return"."===e&&(t="fraction"),E(r,M[e],v[e]),""})).replace(/[0-9]/,function(e){return x&&(e=x[+e]),E(r,t,e),""})).replace(/./,function(e){E(r,"literal",e)})}),r})(r),h=n(h),isFinite(e)?(-1!==a.indexOf("%")?e*=100:-1!==a.indexOf("‰")&&(e*=1e3),y&&(u=Math.abs(Math.floor(e)).toString().length-1,"0"===(i=3<=(u=Math.min(u,y.maxExponent))?y[u]&&y[u].other:i)?i=null:i&&(a=i.split("0").length-1,e/=Math.pow(10,u-(a-1)))),e=isNaN(l*f)?I(e,o,c,m,d,s):$(e,l,f,d),y&&i&&(a=t?t(+e):"other",o=(i=y[u][a]||i).match(R),r=r.concat((c=function(e){var r=[];return e.replace(/('(?:[^']|'')+'|''|\s+)|([^\s'0]+)/g,function(e,n,t){n?E(r,"literal",T(n)):t&&E(r,"compact",t)}),r})(o[1])),h=c(o[3]).concat(h)),e=e.replace(/^-/,""),p&&(e=B(e,p,g)),r.concat(n(e),h)):r.concat({type:"infinity",value:b},h));var n,t,r,i,u,a,o,c,m,l,f,s,p,g,d,b,h,v,x,y}}var n=e._createError,r=e._partsJoin,E=e._partsPush,D=e._regexpEscape,g=e._runtimeBind,m=e._stringPad,d=e._validateCldr,b=e._validateDefaultLocale,S=e._validateParameterPresence,h=e._validateParameterRange,t=e._validateParameterType,v=e._validateParameterTypePlainObject,N=function(e){return n("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},P=function(e){var n=e.attributes["u-nu"];return n?-1!==["native","traditional","finance"].indexOf(n="traditio"===n?"traditional":n)?e.main(["numbers/otherNumberingSystems",n]):n:e.main("numbers/defaultNumberingSystem")},_=/^(('([^']|'')*'|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,w=function(e,n){return n.main(["numbers/symbols-numberSystem-"+P(n),e])},M={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},C=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},i=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,A=/[\x2D\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]|\uD803\uDEAD/g,j=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g,O=function(e){return e.replace(i,"").replace(A,"-").replace(j," ")},T=function(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"'":e.replace(/''/g,"'").slice(1,-1)},R=/^([^0]*)(0+)([^0]*)$/,B=function(e,n,t){for(var r=n,i="",u=!!t,a=(e=String(e).split("."))[0].length;r<a;)i=e[0].slice(a-r,a)+(i.length?",":"")+i,a-=r,u&&(r=t,u=!1);return e[0]=e[0].slice(0,a)+(i.length?",":"")+i,e.join(".")},I=function(e,n,t,r,i,u){return e=r?i(e,u||{exponent:-r}):i(e),e=String(e),r&&/e-/.test(e)&&(e=(+e).toFixed(r).replace(/0+$/,"").replace(/\.$/,"")),t&&((e=e.split("."))[1]=m(e[1]||"",t,!0),e=e.join(".")),n&&((e=e.split("."))[0]=m(e[0],n),e=e.join(".")),e},$=function(e,n,t,r){var i;if(t<n&&(t=n),e=(+(e=+(i=c(e,n,r))==+(t=c(e,t,r))?i:t)).toString(10),/e/.test(e))throw N({feature:"integers out of (1e21, 1e-7)"});return 0<n-e.replace(/^0+|\./g,"").length&&((e=e.split("."))[1]=m(e[1]||"",n-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e};return e.numberFormatter=e.prototype.numberFormatter=function(e){var n,t;return v(e,"options"),n=[e=e||{}],e=this.numberToPartsFormatter(e),t=e,g(n,this.cldr,n=function(e){return r(t(e))},[e]),n},e.numberToPartsFormatter=e.prototype.numberToPartsFormatter=function(e){var n,t,r,i;v(e,"options"),t=this.cldr,n=[e=e||{}],b(t),t.on("get",d);try{m=e.raw||l(e.style||"decimal",t),r=[i=x(m,t,e)]}finally{t.off("get",d)}var u=(m=i)[2],a=m[3],o=m[4],c=m[5],m=m[6];if(isNaN(c*m)){if(!isNaN(c)||!isNaN(m))throw new Error("Neither or both the minimum and maximum significant digits must be present");h(u,"minimumIntegerDigits",1,21),h(a,"minimumFractionDigits",0,20),h(o,"maximumFractionDigits",a,20)}else h(c,"minimumSignificantDigits",1,21),h(m,"maximumSignificantDigits",c,21);return e.compact&&r.push(this.pluralGenerator()),u=p.apply(null,r),g(n,t,u,r),u},e.numberParser=e.prototype.numberParser=function(e){var n,t,r,i;if(v(e,"options"),t=this.cldr,n=[e=e||{}],b(t),e.compact)throw N({feature:"compact number parsing (not implemented)"});return t.on("get",d),r=e.raw||l(e.style||"decimal",t),r=o(r,t,e),t.off("get",d),g(n,t,e=function(e){return S(e,"value"),u(e,"value"),a(e,i)},[i=r]),e},e.formatNumber=e.prototype.formatNumber=function(e,n){return S(e,"value"),F(e,"value"),this.numberFormatter(n)(e)},e.formatNumberToParts=e.prototype.formatNumberToParts=function(e,n){return S(e,"value"),F(e,"value"),this.numberToPartsFormatter(n)(e)},e.parseNumber=e.prototype.parseNumber=function(e,n){return S(e,"value"),u(e,"value"),this.numberParser(n)(e)},e._createErrorUnsupportedFeature=N,e._numberNumberingSystem=P,e._numberNumberingSystemDigitsMap=f,e._numberPattern=l,e._numberSymbol=w,e._looseMatching=O,e._removeLiteralQuotes=T,e._stringPad=m,e._validateParameterTypeNumber=F,e._validateParameterTypeString=u,e});