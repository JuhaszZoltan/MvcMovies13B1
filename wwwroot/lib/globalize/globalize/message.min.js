!function(t,e){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event"],e):"object"==typeof exports?module.exports=e(require("cldrjs"),require("../globalize")):e(t.Cldr,t.Globalize)}(this,function(n,t){var e,r,l=t._alwaysArray,o=t._createError,a=t._isPlainObject,c=t._runtimeBind,p=t._validateDefaultLocale,f=t._validate,h=t._validateParameterPresence,m=t._validateParameterType,i=t._validateParameterTypePlainObject;function zt(t,e,r,n,o,a){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=a,this.name="SyntaxError"}function u(){this.constructor=e}function d(t,e){return/^[A-Z_$][0-9A-Z_$]*$/i.test(t)?e?e+"."+t:t:(t=JSON.stringify(t),e?e+"["+t+"]":t)}function y(t,e,r){if(this.lc=[t],this.runtime.pluralFuncs={},this.runtime.pluralFuncs[this.lc[0]]=e,this.runtime.fmt={},r)for(var n in r)this.runtime.fmt[n]=r[n]}y._parse=(e=zt,r=Error,u.prototype=r.prototype,e.prototype=new u,function(u){function M(t,e){return t={type:"messageFormatElement",argumentIndex:t},e&&e.length?t.elementFormat=e[1]:t.output=!0,t}function R(t,e){return{type:"pluralFormatPattern",pluralForms:e,offset:t||0}}function z(t){return{type:"selectFormatPattern",pluralForms:t}}function $(){return{type:"octothorpe"}}function J(t){return{type:"string",val:t.join("")}}function L(t,e,r,n){return String.fromCharCode(parseInt("0x"+t+e+r+n))}var t=1<arguments.length?arguments[1]:{},i={},e={start:St},r=St,Z=function(t){return{type:"messageFormatPattern",statements:t}},s=i,l="{",c={type:"literal",value:"{",description:'"{"'},p=null,f=",",h={type:"literal",value:",",description:'","'},m="}",d={type:"literal",value:"}",description:'"}"'},y="plural",B={type:"literal",value:"plural",description:'"plural"'},g=function(t,e){return{type:"elementFormat",key:t,val:e}},v="selectordinal",D={type:"literal",value:"selectordinal",description:'"selectordinal"'},A="select",U={type:"literal",value:"select",description:'"select"'},q=function(t,e){return{type:"elementFormat",key:t,val:e}},o="offset",T={type:"literal",value:"offset",description:'"offset"'},V=":",H={type:"literal",value:":",description:'":"'},a=function(t){return t},F=function(t,e){return{key:t,val:e}},K="=",Q={type:"literal",value:"=",description:'"="'},W="#",X={type:"literal",value:"#",description:'"#"'},Y={type:"other",description:"identifier"},tt=/^[0-9a-zA-Z$_]/,et={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},_=/^[^ \t\n\r,.+={}]/,b={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},rt=function(t){return t},nt=function(t){return t.join("")},ot=/^[^{}#\\\0-\x1F \t\n\r]/,at={type:"class",value:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]"},w="\\\\",it={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ut="\\#",st={type:"literal",value:"\\#",description:'"\\\\#"'},lt="\\{",ct={type:"literal",value:"\\{",description:'"\\\\{"'},pt="\\}",ft={type:"literal",value:"\\}",description:'"\\\\}"'},ht="\\u",mt={type:"literal",value:"\\u",description:'"\\\\u"'},dt=/^[0-9]/,yt={type:"class",value:"[0-9]",description:"[0-9]"},gt=function(t){return parseInt(t.join(""),10)},vt=/^[0-9a-fA-F]/,At={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},Ft={type:"other",description:"whitespace"},_t=function(t){return t.join("")},bt=/^[ \t\n\r]/,wt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},x=0,j=0,S={line:1,column:1,seenCR:!1},n=0,C=[],E=0;if("startRule"in t){if(!(t.startRule in e))throw new Error("Can't start parsing from rule \""+t.startRule+'".');r=e[t.startRule]}function xt(t){if(j!==t){t<j&&(j=0,S={line:1,column:1,seenCR:!1});for(var e,r=S,n=t,o=j;o<n;o++)"\n"===(e=u.charAt(o))?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===e||"\u2028"===e||"\u2029"===e?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1);j=t}return S}function P(t){x<n||(n<x&&(n=x,C=[]),C.push(t))}function jt(t,e,r){var n=xt(r),o=r<u.length?u.charAt(r):null;if(null!==e){var a=e,i=1;for(a.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});i<a.length;)a[i-1]===a[i]?a.splice(i,1):i++}return new zt(null!==t?t:function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n].description;function o(t){return t.charCodeAt(0).toString(16).toUpperCase()}return"Expected "+(1<t.length?r.slice(0,-1).join(", ")+" or "+r[t.length-1]:r[0])+" but "+(e?'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+o(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+o(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+o(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+o(t)})+'"':"end of input")+" found."}(e,o),e,o,r,n.line,n.column)}function St(){return k()}function k(){var t=x,e=[],r=Ct();for(r===i&&(r=Nt())===i&&(r=Ot());r!==i;)e.push(r),(r=Ct())===i&&(r=Nt())===i&&(r=Ot());return e!==i&&(e=Z(e)),t=e}function Ct(){var t,e,r,n,o,a=x;return 123===u.charCodeAt(x)?(t=l,x++):(t=i,0===E&&P(c)),a=t!==i&&N()!==i&&(e=I())!==i?(r=x,44===u.charCodeAt(x)?(n=f,x++):(n=i,0===E&&P(h)),(r=(r=n!==i&&(o=function(){var t,e,r,n,o,a;t=x,t=(e=N())!==i?(u.substr(x,6)===y?(r=y,x+=6):(r=i,0===E&&P(B)),r!==i?(n=N())!==i?(44===u.charCodeAt(x)?(o=f,x++):(o=i,0===E&&P(h)),o!==i?N()!==i?(a=Et())!==i?N()!==i?e=g(r,a):(x=t,s):(x=t,s):(x=t,s):(x=t,s)):(x=t,s):(x=t,s)):(x=t,s);if(t===i&&(t=x,e=N(),(t=e!==i?(u.substr(x,13)===v?(r=v,x+=13):(r=i,0===E&&P(D)),r!==i?(n=N())!==i?(44===u.charCodeAt(x)?(o=f,x++):(o=i,0===E&&P(h)),o!==i?N()!==i?(a=Et())!==i?N()!==i?e=g(r,a):(x=t,s):(x=t,s):(x=t,s):(x=t,s)):(x=t,s):(x=t,s)):(x=t,s))===i&&(t=x,e=N(),(t=e!==i?(u.substr(x,6)===A?(r=A,x+=6):(r=i,0===E&&P(U)),r!==i?(n=N())!==i?(44===u.charCodeAt(x)?(o=f,x++):(o=i,0===E&&P(h)),o!==i?N()!==i?(a=function(){var t,e,r;if(t=x,e=[],(r=kt())!==i)for(;r!==i;)e.push(r),r=kt();else e=s;e!==i&&(e=z(e));return t=e}())!==i?N()!==i?e=g(r,a):(x=t,s):(x=t,s):(x=t,s):(x=t,s)):(x=t,s):(x=t,s)):(x=t,s))===i)))if(t=x,(e=N())!==i)if((r=I())!==i){for(n=[],o=It();o!==i;)n.push(o),o=It();t=n!==i?e=q(r,n):(x=t,s)}else x=t,t=s;else x=t,t=s;return t}())!==i?n=[n,o]:(x=r,s))===i?p:r)!==i&&(n=N())!==i?(125===u.charCodeAt(x)?(o=m,x++):(o=i,0===E&&P(d)),o!==i?t=M(e,r):(x=a,s)):(x=a,s)):(x=a,s)}function Et(){var t,e,r=x,n=function(){var t,e,r;t=x,t=N()!==i?(u.substr(x,6)===o?(r=o,x+=6):(r=i,0===E&&P(T)),r!==i?N()!==i?(58===u.charCodeAt(x)?(e=V,x++):(e=i,0===E&&P(H)),e!==i?N()!==i?(r=Rt())!==i?N()!==i?a(r):(x=t,s):(x=t,s):(x=t,s):(x=t,s)):(x=t,s):(x=t,s)):(x=t,s);return t}();if((n=n===i?p:n)!==i){if(t=[],(e=Pt())!==i)for(;e!==i;)t.push(e),e=Pt();else t=s;r=t!==i?n=R(n,t):(x=r,s)}else x=r,r=s;return r}function Pt(){var t,e,r=x,n=N();return r=n!==i&&(n=function(){var t,e,r;t=x,(e=I())!==i&&0;(t=e)===i&&(t=x,61===u.charCodeAt(x)?(e=K,x++):(e=i,0===E&&P(Q)),t=e!==i?(r=Rt())!==i?e=a(r):(x=t,s):(x=t,s));return t}())!==i&&N()!==i?(123===u.charCodeAt(x)?(t=l,x++):(t=i,0===E&&P(c)),t!==i&&N()!==i&&(t=k())!==i&&N()!==i?(125===u.charCodeAt(x)?(e=m,x++):(e=i,0===E&&P(d)),e!==i?F(n,t):(x=r,s)):(x=r,s)):(x=r,s)}function kt(){var t,e,r=x,n=N();return r=n!==i&&(n=I())!==i&&N()!==i?(123===u.charCodeAt(x)?(t=l,x++):(t=i,0===E&&P(c)),t!==i&&N()!==i&&(t=k())!==i&&N()!==i?(125===u.charCodeAt(x)?(e=m,x++):(e=i,0===E&&P(d)),e!==i?F(n,t):(x=r,s)):(x=r,s)):(x=r,s)}function It(){var t,e=x;return e=N()!==i?(44===u.charCodeAt(x)?(t=f,x++):(t=i,0===E&&P(h)),t!==i&&N()!==i&&(t=I())!==i&&N()!==i?t:(x=e,s)):(x=e,s)}function Ot(){var t,e=x;return 35===u.charCodeAt(x)?(t=W,x++):(t=i,0===E&&P(X)),t!==i&&(t=$()),e=t}function Nt(){var t=x,e=[],r=Gt();if((r=r===i?G():r)!==i)for(;r!==i;)e.push(r),(r=Gt())===i&&(r=G());else e=s;return e!==i&&(e=J(e)),t=e}function I(){var t,e,r,n,o,a;if(E++,t=x,N()!==i){if(r=e=x,tt.test(u.charAt(x))?(n=u.charAt(x),x++):(n=i,0===E&&P(et)),n!==i){for(o=[],_.test(u.charAt(x))?(a=u.charAt(x),x++):(a=i,0===E&&P(b));a!==i;)o.push(a),_.test(u.charAt(x))?(a=u.charAt(x),x++):(a=i,0===E&&P(b));r=o!==i?n=[n,o]:(x=r,s)}else x=r,r=s;t=(e=r=r!==i?u.substring(e,x):r)!==i&&(r=N())!==i?rt(e):(x=t,s)}else x=t,t=s;return E--,t===i&&(0===E&&P(Y)),t}function Gt(){var t=x,e=[],r=Mt();if(r!==i)for(;r!==i;)e.push(r),r=Mt();else e=s;return e!==i&&(e=nt(e)),t=e}function Mt(){var t,e,r,n,o,a=x;return ot.test(u.charAt(x))?(t=u.charAt(x),x++):(t=i,0===E&&P(at)),t!==i&&0,(a=t)===i&&(a=x,u.substr(x,2)===w?(t=w,x+=2):(t=i,0===E&&P(it)),t!==i&&(t="\\"),(a=t)===i&&(a=x,u.substr(x,2)===ut?(t=ut,x+=2):(t=i,0===E&&P(st)),t!==i&&(t="#"),(a=t)===i&&(a=x,u.substr(x,2)===lt?(t=lt,x+=2):(t=i,0===E&&P(ct)),t!==i&&(t="{"),(a=t)===i&&(a=x,u.substr(x,2)===pt?(t=pt,x+=2):(t=i,0===E&&P(ft)),t!==i&&(t="}"),(a=t)===i&&(a=x,u.substr(x,2)===ht?(t=ht,x+=2):(t=i,0===E&&P(mt)),a=t!==i&&(e=O())!==i&&(r=O())!==i&&(n=O())!==i&&(o=O())!==i?t=L(e,r,n,o):(x=a,s)))))),a}function Rt(){var t,e=x,r=[];if(dt.test(u.charAt(x))?(t=u.charAt(x),x++):(t=i,0===E&&P(yt)),t!==i)for(;t!==i;)r.push(t),dt.test(u.charAt(x))?(t=u.charAt(x),x++):(t=i,0===E&&P(yt));else r=s;return r!==i&&(r=gt(r)),e=r}function O(){var t;return vt.test(u.charAt(x))?(t=u.charAt(x),x++):(t=i,0===E&&P(At)),t}function N(){var t,e,r;for(E++,t=x,e=[],r=G();r!==i;)e.push(r),r=G();return e!==i&&(e=_t(e)),E--,(t=e)===i&&(e=i,0===E&&P(Ft)),t}function G(){var t;return bt.test(u.charAt(x))?(t=u.charAt(x),x++):(t=i,0===E&&P(wt)),t}if((e=r())!==i&&x===u.length)return e;throw e!==i&&x<u.length&&P({type:"end",description:"end of input"}),jt(null,C,n)}),y.plurals={},y.formatters={},y.prototype.runtime={number:function(t,e){if(isNaN(t))throw new Error("'"+t+"' isn't a number.");return t-(e||0)},plural:function(t,e,r,n,o){if({}.hasOwnProperty.call(n,t))return n[t]();e&&(t-=e);e=r(t,o);return e in n?n[e]():n.other()},select:function(t,e){return{}.hasOwnProperty.call(e,t)?e[t]():e.other()},pluralFuncs:{},fmt:{},toString:function(){function i(t,e){var r;if("object"!=typeof t)return r=t.toString().replace(/^(function )\w*/,"$1"),(a=/([ \t]*)\S.*$/.exec(r))?r.replace(new RegExp("^"+a[1],"mg"),""):r;var n,o=[];for(n in t)"toString"!=n&&(0==e?o.push("var "+n+" = "+i(t[n],e+1)+";\n"):o.push(d(n)+": "+i(t[n],e+1)));if(0==e)return o.join("");if(0==o.length)return"{}";for(var a="  ";--e;)a+="  ";return"{\n"+o.join(",\n").replace(/^/gm,a)+"\n}"}return i(this,0)}},y.prototype._precompile=function(t,e){e=e||{keys:{},offset:{}};var r,n=[],o=[];switch(t.type){case"messageFormatPattern":for(i=0;i<t.statements.length;++i)n.push(this._precompile(t.statements[i],e));return r=n.join(" + ")||'""',e.pf_count?r:"function(d) { return "+r+"; }";case"messageFormatElement":return e.pf_count=e.pf_count||0,t.output?d(t.argumentIndex,"d"):(e.keys[e.pf_count]=t.argumentIndex,this._precompile(t.elementFormat,e));case"elementFormat":switch(o=[d(e.keys[e.pf_count],"d")],t.key){case"select":return o.push(this._precompile(t.val,e)),"select("+o.join(", ")+")";case"selectordinal":return"plural("+(o=o.concat([0,d(this.lc[0],"pluralFuncs"),this._precompile(t.val,e),1])).join(", ")+")";case"plural":return e.offset[e.pf_count||0]=t.val.offset||0,"plural("+(o=o.concat([e.offset[e.pf_count]||0,d(this.lc[0],"pluralFuncs"),this._precompile(t.val,e)])).join(", ")+")";default:return this.withIntlSupport&&!(t.key in this.runtime.fmt)&&t.key in y.formatters&&(r=y.formatters[t.key],this.runtime.fmt[t.key]="function"==typeof r(this)?r(this):r),o.push(JSON.stringify(this.lc)),t.val&&t.val.length&&o.push(JSON.stringify(1==t.val.length?t.val[0]:t.val)),"fmt."+t.key+"("+o.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":e.pf_count=e.pf_count||0,"selectFormatPattern"==t.type&&(e.offset[e.pf_count]=0);for(var a=!0,i=0;i<t.pluralForms.length;++i){var u=t.pluralForms[i].key,s=("other"===u&&(a=!1),JSON.parse(JSON.stringify(e)));s.pf_count++,n.push(d(u)+": function() { return "+this._precompile(t.pluralForms[i].val,s)+";}")}if(a)throw new Error("No 'other' form found in "+t.type+" "+e.pf_count);return"{ "+n.join(", ")+" }";case"string":return JSON.stringify(t.val||"");case"octothorpe":return e.pf_count?(o=[d(e.keys[e.pf_count-1],"d")],e.offset[e.pf_count-1]&&o.push(e.offset[e.pf_count-1]),"number("+o.join(", ")+")"):'"#"';default:throw new Error("Bad AST type: "+t.type)}},y.prototype.compile=function(t,e){function r(t,e){try{var r=y._parse(e);return t._precompile(r)}catch(t){throw new Error((r?"Precompiler":"Parser")+" error: "+t.toString())}}var n,o={},a=this.lc,i=function(t,e){if(e=e||0,"object"!=typeof t)return t;for(var r,n=[],o="",a=0;a<e;++a)o+="  ";for(r in t)n.push("\n"+o+"  "+d(r)+": "+i(t[r],e+1));return"{"+n.join(",")+"\n"+o+"}"};if("string"==typeof t)return new Function("number, plural, select, pluralFuncs, fmt","return "+r(this,t))(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt);for(n in e=e||{},t)if(e.locale&&(this.lc=e.locale[n]&&[].concat(e.locale[n])||a),"string"==typeof t[n])try{o[n]=r(this,t[n])}catch(t){throw t.message=t.message.replace(":"," with `"+n+"`:"),t}else for(var u in o[n]={},t[n])try{o[n][u]=r(this,t[n][u])}catch(t){throw t.message=t.message.replace(":"," with `"+u+"` in `"+n+"`:"),t}this.lc=a;var s=this.runtime.toString()+"\n";switch(e.global||""){case"exports":var l,c=[];for(l in o)c.push(d(l,"exports")+" = "+i(o[l]));return new Function(s+c.join(";\n"));case"module.exports":return new Function(s+"module.exports = "+i(o));case"":return new Function(s+"return "+i(o));default:return new Function("G",s+d(e.global,"G")+" = "+i(o))}};function g(){return o("E_MISSING_PLURAL_MODULE","Plural module not loaded.")}function v(r){return function(t){var e;return"number"!=typeof t&&"string"!=typeof t||(t=[].slice.call(arguments,0)),m(e=t,"variables",void 0===e||a(e)||Array.isArray(e),"Array or Plain Object"),r(t)}}var A=y,F=[].slice;return t.loadMessages=function(t){var e,r={"globalize-messages":t,main:{}};for(e in h(t,"json"),i(t,"json"),t)t.hasOwnProperty(e)&&(r.main[e]={});n.load(r)},t.messageFormatter=t.prototype.messageFormatter=function(t){var e,r,n,o,a,i,u,s=F.call(arguments,0);return h(t,"path"),m(t,"path","string"==typeof t||Array.isArray(t),"a String nor an Array"),t=l(t),e=this.cldr,p(e),f("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",(r=e).attributes.bundle&&void 0!==r.get("globalize-messages/{bundle}"),{locale:r.locale}),r=e.get(["globalize-messages/{bundle}"].concat(t)),o=r,n=(n=t).join("/"),f("E_MISSING_MESSAGE","Missing required message content `{path}`.",void 0!==o,{path:n}),Array.isArray(r)&&(r=r.join(" ")),o=r,n=(n=t).join("/"),f("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.","string"==typeof o,{expected:"a string",path:n}),o=void 0!==this.plural?this.pluralGenerator():g,n=new A(e.locale,o).compile(r),r=v(n),c(s,e,r,[(a=n,i=e.locale,u=a.toString,a.toString=function(){var e={},t=u.call(a);return/number\(/.test(t)&&(e.number="messageFormat.number"),/plural\(/.test(t)&&(e.plural="messageFormat.plural"),/select\(/.test(t)&&(e.select="messageFormat.select"),t.replace(/pluralFuncs(\[([^\]]+)\]|\.([a-zA-Z]+))/,function(t){return e.pluralFuncs='{"'+i+'": Globalize("'+i+'").pluralGenerator()}',t}),"(function( "+Object.keys(e).join(", ")+" ) {\n  return "+t+"\n})("+Object.keys(e).map(function(t){return e[t]}).join(", ")+")"},a),o]),r},t.formatMessage=t.prototype.formatMessage=function(t){return this.messageFormatter(t).apply({},F.call(arguments,1))},t});