!function(e,t){"function"==typeof define&&define.amd?define(["cldr","../globalize","./number","./plural"],t):"object"==typeof exports?module.exports=t(require("cldrjs"),require("../globalize")):t(e.Cldr,e.Globalize)}(this,function(e,t){function i(u,l,p){return function(e){return c(e,"value"),s(e,"value"),e=e,t=u,r=l,o=(n=p).compoundUnitPattern,n=n.unitProperties,t=t(e),r=r(e),n instanceof Array?(e=n[0],i=(a=n[1]).hasOwnProperty("one")?"one":"other",e=m(e[r],[t]),a=m(a[i],[""]).trim(),m(o,[e,a])):(i=n[r],m(i,[t]));var t,r,n,a,i,o}}var m=t._formatMessage,o=t._runtimeBind,c=t._validateParameterPresence,u=t._validateParameterTypePlainObject,s=t._validateParameterTypeNumber,l=t._validateParameterTypeString,p=["acceleration","angle","area","digital","duration","length","mass","power","pressure","speed","temperature","volume"];function f(t,r,n){var a;if(t=t.replace(/\//,"-per-"),[""].concat(p).some(function(e){return a=n.main(["units",r,e.length?e+"-"+t:t])}),(a=function(e){var t,r;if(e)for(r in t={},e)t[r.replace(/unitPattern-count-/,"")]=e[r];return t}(a))||!/-per-/.test(t)||(t=t.split("-per-"),(a=t.map(function(e){return f(e,r,n)}))[0]&&a[1]))return a}var d=f;return t.formatUnit=t.prototype.formatUnit=function(e,t,r){return c(e,"value"),s(e,"value"),this.unitFormatter(t,r)(e)},t.unitFormatter=t.prototype.unitFormatter=function(e,t){var r,n,a;return c(e,"unit"),l(e,"unit"),u(t,"options"),r=[e,t=t||{}],n=t.form||"long",e=e,n=n,e={compoundUnitPattern:(a=this.cldr).main(["units",n,"per/compoundUnitPattern"]),unitProperties:d(e,n,a)},n=t.numberFormatter||this.numberFormatter(),a=this.pluralGenerator(),t=i(n,a,e),o(r,this.cldr,t,[n,a,e]),t},t});